<span
  *ngFor="let starred of stars; let i = index"
  (click)="onTouched(); onRated(i + (starred ? (value > i + 1 ? 1 : 0) : 1))"
>
  <ng-container *ngIf="starred; else noStar"
    ><span class="star-filled"></span
  ></ng-container>
  <ng-template #noStar><span class="star-blank"></span></ng-template>
</span>
